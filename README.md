# 合成大星星
学了一个月unity3D，花了几天模仿合成大西瓜，做了一个合成大星星。一共实现了以下功能：

1. 用户输入：玩家触摸屏幕后，星球会在相应的位置下落，并冻结玩家的点击。
2. 输入锁定：星球落地后解冻玩家输入，并播放落地音效。
3. 碰撞合成检测：每个星球都会检测周围的碰撞体，如果遇到了相同星星就会向更高级更大的星星合成，合成时播放合成音效，并进行适当的记分。
4. 游戏结束判定：当屏幕内积攒的星球数量溢出时，游戏结束。
5. 用户UI：玩家在失败界面可以查看排行榜和重新开始游戏。

# 演示Demo

https://www.bilibili.com/video/BV1rf4y147uE/

# 运行环境

1. Unity3D 2019.4.18f1c1

# 已解决的问题

1. 玩家可以频繁点击屏幕变换星球下落的位置。

   > 玩家下落的时候让输入操作冻结，只有在星球首次碰撞之后才能解除冻结。

2. 星球合成后，旧星球还未销毁，新的星球就已经出现，从而在几帧之内出现了大量星球，导致游戏崩溃。

   > 原来Destroy方法并不会在调用之后立刻将对象销毁，而是在当前更新循环结束（但在渲染前完成）。因此将合成新星球放在每一帧的开始，设置一个变量判断是否需要合成新星球。

3. 新的星球合成后如果第一次落地也会导致用户输入操作解除冻结。

   > 将新合成的星球设置为已经落地。

# 未解决的问题

1. 玩家若频繁点击屏幕，偶尔会出现下一次下放小球操作失效的情况，暂未查明原因。
2. 代码写得很乱，耦合度太高，每个模块之间没有明显区分，导致自己都很难阅读。
3. 不懂如何对各种分辨率的手机做适配，因此某些屏幕分辨率不是(2160*1080)的手机会出现显示不全的情况。

# 参考文档

1. Unity3D脚本API：https://docs.unity.cn/cn/2019.4/ScriptReference/Object.Destroy.html